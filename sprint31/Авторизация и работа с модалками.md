# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–∞–±–æ—Ç–∞ —Å –º–æ–¥–∞–ª–∫–∞–º–∏

–û–±—Å—É–¥–∏–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ –Ω–∞—à–µ–π –ø—Ä–æ–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ.

–° —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (`POST auth/login` –∏ `POST auth/register`) –ø—Ä–∏—Ö–æ–¥—è—Ç accessToken –∏ refreshToken.

**accessToken**

accessToken —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
accessToken –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (GET auth/user –∏ PATCH auth/user). –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ accessToken - 20 –º–∏–Ω. –ü–æ—Ç–æ–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π.

–ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ authorization, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```javascript
headers: {
  'Content-Type': 'application/json;charset=utf-8',
  authorization: localStorage.getItem('accessToken')
},
```

**refreshToken**

refreshToken —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage

refreshToken –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã—Ö–æ–¥–∞ (auth/logout) –∏–∑ —Å–∏—Å—Ç–µ–º—ã –∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ accessToken, –µ—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø–µ—Ä–µ—Å—Ç–∞–ª –ø–æ–¥—Ö–æ–¥–∏—Ç—å (auth/token)
–í –∑–∞–ø—Ä–æ—Å–∞—Ö –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –ø–æ–ª–µ body, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```javascript
body: JSON.stringify({
  token: localStorage.getItem('refreshToken')
})
```

**–ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω**

–î–µ–ª–∞—Ç—å —ç—Ç–æ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–ø—Ä–æ—Å–∞ —Å —Ç–µ–∫—Å—Ç–æ–º –æ—Ç–≤–µ—Ç–∞ jwt expired ‚ùó

–ü—Ä–∏ —Å–≤–µ–∂–µ–º —Ç–æ–∫–µ–Ω–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–µ–π (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è, –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ):

```
PATCH user -> –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏
```

–ï—Å–ª–∏ –∂–µ —Ç–æ–∫–µ–Ω —É—Å—Ç–∞—Ä–µ–ª, —Ç–æ –∑–∞–ø—Ä–æ—Å —É–ø–∞–¥–µ—Ç —Å –æ—à–∏–±–∫–æ–π. –¢–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–∫—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

```
PATCH user -> –æ—à–∏–±–∫–∞ jwt expired -> GET token -> –∑–∞–ø–∏—Å—å –Ω–æ–≤—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ -> PATCH user
```

**–ö–∞–∫ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å**

–ú–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ–±–µ—Ä—Ç–∫—É fetchWithRefresh –≤–æ–∫—Ä—É–≥ fetch

–§—É–Ω–∫—Ü–∏—è fetchWithRefresh –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã fetch - url –∏ options. –ò –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å. –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π, —Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞, –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –≤ options –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ. fetchWithRefresh –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

fetchWithRefresh –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```javascript
const checkReponse = (res) => {
  return res.ok ? res.json() : res.json().then((err) => Promise.reject(err));
};

export const refreshToken = () => {
  return fetch(`${BURGER_API_URL}/auth/token`, {
    method: "POST",
    headers: {
      "Content-Type": "application/json;charset=utf-8",
    },
    body: JSON.stringify({
      token: localStorage.getItem("refreshToken"),
    }),
  }).then(checkReponse);
};

export const fetchWithRefresh = async (url, options) => {
  try {
    const res = await fetch(url, options);
    return await checkReponse(res);
  } catch (err) {
    if (err.message === "jwt expired") {
      const refreshData = await refreshToken(); //–æ–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω
      if (!refreshData.success) {
        return Promise.reject(refreshData);
      }
      localStorage.setItem("refreshToken", refreshData.refreshToken);
      localStorage.setItem("accessToken", refreshData.accessToken);
      options.headers.authorization = refreshData.accessToken;
      const res = await fetch(url, options); //–ø–æ–≤—Ç–æ—Ä—è–µ–º –∑–∞–ø—Ä–æ—Å
      return await checkReponse(res);
    } else {
      return Promise.reject(err);
    }
  }
};
```

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ axios –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤, —Ç–æ –≤–º–µ—Å—Ç–æ –æ–±–µ—Ä—Ç–∫–∏ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å interceptor

**[Axios Interceptors](https://github.com/axios/axios#interceptors)**

**[Using Axios interceptors for refreshing your API token](https://thedutchlab.com/blog/using-axios-interceptors-for-refreshing-your-api-token)**

–ï—Å–ª–∏ –∑–∞—Ö–æ—Ç–∏—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫—É–∫–∞–º–∏ (–ª—É—á—à–µ –Ω–µ —Å—Ç–æ–∏—Ç), –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ setCookie –≤ –∫–æ–¥–µ –∏–∑ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞ –µ—Å—Ç—å –Ω–µ–±–æ–ª—å—à–∞—è –ø—Ä–æ–±–ª–µ–º–∞, —Ç–∞–º –Ω–µ –∑–∞–¥–∞–µ—Ç—Å—è –∫–æ—Ä–Ω–µ–≤–æ–π –∞–¥—Ä–µ—Å –∏ –ø–æ—ç—Ç–æ–º—É –µ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ cookies –∑–∞–¥–∞—Å—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥—Ä–µ—Å–∞ /profile.

H—É–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é setCookie –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —ç—Ç–∏–º **<https://learn.javascript.ru/cookie#setcookie-name-value-options>** , –∏–Ω–∞—á–µ –º–æ–≥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –±–∞–≥–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ, –∫–æ–≥–¥–∞ –≤—Ä–æ–¥–µ —Ç–æ–∫–µ–Ω –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ –ø–æ—Ç–æ–º –µ–≥–æ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç

```javascript
export function setCookie(name, value, props = {}) {
  props = {
    path: '/',  //–∑–∞–¥–∞–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –∞–¥—Ä–µ—Å –¥–ª—è cookies
    ...props
  };
  .............
```

**–†–∞–±–æ—Ç–∞ —Å –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏:**


1. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç ‚Äî —É –Ω–µ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç /ingredients/:id –∏ –ø—Ä–∏ —ç—Ç–æ–º –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–µ.
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–ø—Ä—è–º—É—é –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º id –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ - —É –Ω–µ–≥–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.
3. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º, —Ç–æ –æ–Ω–æ –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º.

–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º —á—É—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω —Å –ø–æ–º–æ—â—å—é `react-router`.

–ë—É–¥–µ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å **[–ø—Ä–∏–º–µ—Ä](https://github.com/remix-run/react-router/tree/dev/examples/modal)**  –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ react-router.

üëâ –ò—Ç–∞–∫, –Ω–∞–º –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ –∫–∞–∫ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ, —Ç–∞–∫ –∏ –ø—Ä–æ—Å—Ç–æ –ø–æ —Å—Å—ã–ª–∫–µ. –†–∞–∑–º–µ—Å—Ç–∏–º –ª–æ–≥–∏–∫—É –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `App`, –∫–æ—Ç–æ—Ä—ã–π –∏ –±—É–¥–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –º–æ–¥–∞–ª–∫—É/—Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—ä–µ–∫—Ç–∞ `location.state` –∏ –ø–æ–ª—è `background` –≤ –Ω–µ–º (–≤ —ç—Ç–æ –ø–æ–ª–µ –º—ã –±—É–¥–µ–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—É—Ç—å, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –≤ —Å—Ç—Ä–æ–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞).

–ï—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å `location.state.background` - —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª –Ω–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –Ω–∞—Ö–æ–¥—è—Å—å –Ω–∞ —Å–∞–π—Ç–µ, –∞ –Ω–µ –ø–µ—Ä–µ—à–µ–ª –ø–æ —Å—Å—ã–ª–∫–µ. –ß—É—Ç—å –¥–∞–ª—å—à–µ —Ä–∞–∑–±–µ—Ä–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª—è `background`. –ê –ø–æ–∫–∞ —á—Ç–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç–æ, –∫–∞–∫ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `App` –≤ –ø—Ä–æ–µ–∫—Ç–µ:

```javascript
function App() {
  const location = useLocation();
  const navigate = useNavigate();
  const background = location.state && location.state.background;

  const handleModalClose = () => {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –ø—É—Ç–∏ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏
    navigate(-1);
  };

  return (
    <>
      <AppHeader />
      <Routes location={background || location}>
        <Route path='/' element={<Main />} />
        <Route path='/ingredients/:ingredientId'
               element={<IngredientsDetails />} />
        <Route path="*" element={<NotFound404 />} />
      </Routes>

      {background && (
        <Routes>
	        <Route
	          path='/ingredients/:ingredientId'
	          element={
	            <Modal onClose={handleModalClose}>
	              <IngredientsDetails />
	            </Modal>
	          }
	        />
        </Routes>
      )}
    </>
  );
};
```

–¢—É—Ç —É –Ω–∞—Å –µ—Å—Ç—å 2 –≤–∏–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤:

1Ô∏è‚É£ - –æ–±—ã—á–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–æ—É—Ç–∞, —Ä–µ–Ω–¥–µ—Ä–∏–º –ø—Ä–æ—Å—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç IngredientsDetails.

2Ô∏è‚É£ - –º—ã —Å–º–æ—Ç—Ä–∏–º –∑–∞ –Ω–∞–ª–∏—á–∏–µ–º —Å–≤–æ–π—Å—Ç–≤–∞ background –≤ location.state –∏, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å, —Ç–æ –≤ Routes –≤–º–µ—Å—Ç–æ location –º—ã –ø–µ—Ä–µ–¥–∞–µ–º background –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –∑–∞–¥–Ω–µ–º —Ñ–æ–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –º–æ–¥–∞–ª–∫–∞. –ò —Ä–µ–Ω–¥–µ—Ä–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç IngredientsDetails, –æ–±–µ—Ä–Ω—É—Ç—ã–π –≤ –º–æ–¥–∞–ª–∫—É.

**–ö–∞–∫ –∑–∞–ø–æ–ª–Ω—è—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ** `background`?

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Card (–∏–ª–∏ —Å—Ö–æ–∂–∏–π –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ üôÇ). –ù—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–±–µ—Ä–Ω—É—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Link, –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–∑ react-router-dom. –ò –∑–∞–ø–∏—Å–∞—Ç—å –Ω—É–∂–Ω—ã–π `state`:

```javascript
function Card({ item }) {
  const location = useLocation();

  const ingredientId = item['_id'];

  return (
    <Link
      key={ingredientId}
      // –¢—É—Ç –º—ã —Ñ–æ—Ä–º–∏—Ä—É–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å –¥–ª—è –Ω–∞—à–µ–≥–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞
      to={`/ingredients/${ingredientId}`}
      // –∞ —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Å–≤–æ–π—Å—Ç–≤–æ background —Ä–æ—É—Ç,
      // –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –Ω–∞—à–∞ –º–æ–¥–∞–ª–∫–∞
      state={{ background: location }}
      className={styles.link}
    >
      ... // —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∞—à–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Card
    </Link>
  );
}
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `state` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `App` –≤ –¥–≤—É—Ö –≤–∏–¥–∞—Ö: –∫–∞–∫ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ, –æ—Ç–∫—Ä—ã—Ç–æ–µ –Ω–∞ —Å–∞–π—Ç–µ, –∏ –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –º—ã –ø–µ—Ä–µ—à–ª–∏ –ø–æ —Å—Å—ã–ª–∫–µ.

**–í—Å–µ–º —É–¥–∞—á–∏!üßë‚Äçüîß üåû**
